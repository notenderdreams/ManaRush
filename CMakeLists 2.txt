cmake_minimum_required(VERSION 3.10)
project(tmx_example)

set(CMAKE_BINARY_DIR ${CMAKE_SOURCE_DIR})
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_SOURCE_DIR})
set(CMAKE_CURRENT_BINARY_DIR ${CMAKE_SOURCE_DIR})

set(CMAKE_C_STANDARD 11)

include_directories(/opt/homebrew/include)

set(SOURCE_FILES
    main.c
    game.c
    character.c
    boss.c
    projectile.c
    map_renderer.c
)

add_executable(tmx_example ${SOURCE_FILES})

target_link_libraries(tmx_example 
    /opt/homebrew/lib/libraylib.dylib
    /opt/homebrew/lib/libtmx.dylib
    m dl pthread
)

if(APPLE)
    target_link_libraries(tmx_example 
        "-framework OpenGL"
        "-framework Cocoa" 
        "-framework IOKit"
        "-framework CoreVideo"
    )
endif()